-------------------------------------------------------------------------------
Test set: com.akshay.hospital.WebTest
-------------------------------------------------------------------------------
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 10.444 s <<< FAILURE! - in com.akshay.hospital.WebTest
contextLoads  Time elapsed: 0.022 s  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appointmentService': Unsatisfied dependency expressed through field 'appointmentRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appointmentRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.akshay.hospital.repository.AppointmentRepository.countAppointmentByPat()!
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appointmentRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.akshay.hospital.repository.AppointmentRepository.countAppointmentByPat()!
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.akshay.hospital.repository.AppointmentRepository.countAppointmentByPat()!
Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: , near line 1, column 88 [select a from appointment where a.patid NOT IN (select a.patid from appointment where a,apptdate >= CURDATE)]
Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: , near line 1, column 88 [select a from appointment where a.patid NOT IN (select a.patid from appointment where a,apptdate >= CURDATE)]

